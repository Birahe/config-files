"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{34947:(t,e,o)=>{o.r(e),o.d(e,{FeatureIntroPopup:()=>k,default:()=>x});var i=o(77094),n=o.n(i),a=o(67294),r=o(81954),l=o(24405),s=o(8848),d=o(66673),u=o(3779),g=o(5366),c=o(82990),p=o(27832),m=o(42922),h=o(73063),f=o(28451),y=o(89728),v=o(44532);const b=function(t){const{imageSrc:e,imageStyles:o,title:i,subtitle:r}=t,s=(0,l.yK)((t=>({content:{padding:"0 24px",height:90},title:{fontSize:c.Z.fontSize.UIRegular.desktop,fontWeight:c.Z.fontWeight.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:c.Z.fontSize.UIRegular.desktop,color:t.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${t.lightDividerColor}`,display:"flex"}})),[]);return a.createElement(a.Fragment,null,n()("div",{style:s.imageWrapper},void 0,n()("img",{style:{...s.image,...o},src:e},e)),n()("div",{style:s.content},void 0,n()("div",{style:s.title},void 0,i),n()("div",{style:s.subtitle},void 0,r)))};const B=function(t){const e=(0,l.yK)((t=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:c.Z.fontWeight.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:t.mediumIconColor,marginTop:4},description:{fontSize:14,color:t.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return a.createElement(a.Fragment,null,t.icon&&n()("div",{style:e.iconContainer},void 0,t.icon(t.iconStyle?t.iconStyle:e.icon)),n()("div",{style:e.headerContainer},void 0,n()("div",{style:e.headerText},void 0,t.header)),n()("div",{style:e.description},void 0,t.description))};function k(t){window.__c={n:"FeatureIntroPopup"};const{children:e,initialPromo:o,steps:i,isUserEligible:k=!0,placementToOrigin:x,alignmentToOrigin:C,seenFeatureUserSetting:S,userSettingsStore:F,allowExternalMouseEvents:I,onDismiss:T,onTryFeatureClick:w,onPopupSeen:M,onLearnMore:P,ctaMessage:Z,calloutId:W}=t,E=(0,g.useIntl)(),L=(0,l.yK)((t=>({popupContainer:{background:"light"===t.mode?t.contentBackground:t.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:t.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:t.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:t.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===t.mode?s.FN.light.gray[400]:s.FN.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:c.Z.fontWeight.medium},nextButton:{fontWeight:c.Z.fontWeight.medium},inactiveDot:{fill:t.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[R,D]=(0,a.useState)(0),z=(0,a.useCallback)((()=>{const t=null==F?void 0:F.getSettings();return!t||Boolean(!0===t[S])}),[S,F]),O=(0,r.VK)((()=>!z()&&k&&p.default.state.inAppCalloutStore.canShow(W)||Boolean(t.forceShow)),[W,z,k,t.forceShow]),A=(0,a.useCallback)((()=>{D(R+1),null==P||P()}),[R,P]),G=(0,d.D9)(O);return(0,a.useEffect)((()=>{O&&!G&&(null==M||M())}),[O,M,G]),n()(v.ZP,{popupType:v.ZP.PopupType.Popup,open:O,origin:e,placementToOrigin:x,alignmentToOrigin:C,originGap:15,disableMouseCapture:I,render:()=>{const t=0===R,e=t?a.createElement(B,o):a.createElement(b,i[R-1]),r=t?a.createElement(a.Fragment,null,n()(m.Z,{style:L.button,onClick:A,isLarge:!0},void 0,Z||n()(g.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",description:"Text for a button to learn more about a feature",defaultMessage:"Learn more"})),n()(y.Z,{onClick:T,isLightGray:!0,style:{...L.button,...L.dismissButton}},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",description:"Text for a button to dismiss the popup",defaultMessage:"Dismiss"}))):n()("div",{style:L.footer},void 0,n()("div",{style:{display:"flex"}},void 0,[...Array(i.length)].map(((t,e)=>{let o=L.dot;return o=e===R-1?{...o}:{...o,...L.inactiveDot},e===i.length&&(o={...o,marginRight:0}),u.Z.dot(o)}))),n()("div",{style:{...L.button,marginLeft:"auto"}},void 0,R>1&&n()(y.Z,{onClick:()=>D(R-1),style:L.backButton,isGray:!0},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.backButton",description:"Button to navigate to the previous step of the prompt.",defaultMessage:"Back"})),R<i.length&&n()(y.Z,{onClick:()=>D(R+1),style:L.nextButton,isBlue:!0},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.nextButton",description:"Button to navigate to the next step of the prompt.",defaultMessage:"Next"})),R===i.length&&n()(m.Z,{onClick:w},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",description:"Button to try the new wiki feature out. Clicking it automatically converts the page to a wiki.",defaultMessage:"Try it out"}))));return n()(f.P,{calloutId:W},void 0,e,n()(h.Z,{icon:u.Z.closeSmall,style:L.closeButton,hoveredStyle:L.closeButtonHoveredStyle,iconStyle:L.closeButtonIcon,disableBackground:!0,onClick:T,ariaLabel:E.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",description:"Aria label for a close button",defaultMessage:"Close"})}),r)},style:0===R?L.popupContainer:{...L.popupContainer,padding:void 0}})}const x=k}}]);