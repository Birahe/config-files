"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7983],{27239:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Fe});var i=n(77094),a=n.n(i),o=n(86664),r=n(67294),s=n(480),l=n(81954),d=n(24405),c=n(8848),u=n(88108),p=n(3779),m=n(5366),g=n(44463),y=n(95477),h=n(16100),v=n(62216),b=n(21115),f=n(34859),S=n(27832),M=n(88632),x=n(45407),C=n(27242),w=n(36488),T=n(22346),O=n(18647),Z=n(6825),F=n(3791),I=n(82990),B=n(50906),k=n(65544),U=n(78291),A=n(18168),P=n(50346);function _(){return(0,d.yK)((e=>({discountText:{color:e.invoiceGreen,fontSize:12},icon:{width:16,height:16},mainTextSelected:{fontWeight:I.Z.fontWeight.medium,color:e.regularTextColor,fontSize:14,lineHeight:"14px"},mainTextUnselected:{color:e.mediumTextColor,fontSize:14,lineHeight:"14px"},priceText:{fontSize:14,color:e.mediumTextColor,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},section:{marginBottom:20},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:I.Z.fontWeight.semibold,color:e.mediumTextColor}})),[])}function E(e){window.__c={n:"Section"};const{header:t,children:n}=e,i=_();return a()("div",{style:i.section},void 0,a()("div",{style:i.sectionHeader},void 0,t),n)}function W(e){const{isSelected:t,billingInterval:n}=e,i=_(),o=t?i.mainTextSelected:i.mainTextUnselected;let s;switch(n){case"month":s=a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",description:"Users can select this option to be billed once a month",defaultMessage:"Monthly"});break;case"year":s=a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",description:"Users can select this option to be billed once a year",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${n}`)}return r.createElement(r.Fragment,null,a()("div",{style:i.row},void 0,a()("div",{style:o},void 0,s),"year"===n?a()("div",{style:i.discountText},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",description:"Shows the amount users will save if they select the yearly billing option. The amount is a percentage like 20%",defaultMessage:"{percent}% off",values:{percent:20}})):null))}function z(e){window.__c={n:"NoThanksOption"};const{isSelected:t}=e,n=_(),i=t?n.mainTextSelected:n.mainTextUnselected;return a()("div",{style:i},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.noThanks",description:"Users can select this option to not add any add-ons to their subscription",defaultMessage:"No thanks"}))}function D(e){const{isSelected:t}=e,n=_(),i=(0,l.VK)((()=>C.Z.state.open?C.Z.state.coupon:null),[]),o=t?n.mainTextSelected:n.mainTextUnselected;return r.createElement(r.Fragment,null,a()("div",{style:n.row},void 0,p.Z.sparkles(n.icon),a()("div",{style:o},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.notionAi",description:"Users can select this option to add Notion AI to their subscription",defaultMessage:"Notion AI"})),i?a()("div",{style:n.discountText},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.aiDiscount",description:"Shows the amount users will save if they select Notion AI with a normal subscription. The amount is a percentage like 50%",defaultMessage:"{percent}% off",values:{percent:50}})):null))}function H(e){const t=(0,s.O7)(),[n,i,o,d,c,u]=(0,l.VK)((()=>{var e;const t=C.Z.state,n=(null===(e=U.default.state.data)||void 0===e?void 0:e.addOns)??[];return[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,(0,F.de)(n),v.F4(),t.coupon]}),[]);(0,r.useEffect)((()=>{k.W_(t)}),[t,i,o]);const p=(0,r.useMemo)((()=>{const e={key:"month",render:()=>a()(W,{isSelected:"month"===i,billingInterval:"month",subscriptionTier:n})},t={key:"year",render:()=>a()(W,{isSelected:"year"===i,billingInterval:"year",subscriptionTier:n})};return c?[t,e]:[e,t]}),[i,n,c]),g=(0,r.useMemo)((()=>[{key:"none",render:()=>a()(z,{isSelected:!o})},{key:"ai",render:()=>a()(D,{isSelected:!!o})}]),[o]);return r.createElement(r.Fragment,null,a()(E,{header:a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",description:"Title of the billing period section on the subscription upgrade modal",defaultMessage:"Billing period"})},void 0,a()(A.Z,{items:p,value:i,onChange:e=>{B.FRI(t,{billingInterval:e}),C.Z.update((t=>({...t,temporaryBillingInterval:e})))}})),d?null:r.createElement(r.Fragment,null,a()(E,{header:a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.header",description:"Title of the add-ons section on the subscription upgrade modal",defaultMessage:"Add-ons"})},void 0,a()(A.Z,{items:g,value:o??"none",onChange:e=>{const n=[];let i;switch(e){case"ai":i="ai",n.push("ai");break;default:i=void 0}B.qzU(t,{addOnFeatures:n}),C.Z.update((e=>({...e,addOnFeature:i})))}})),u?a()(P.Z,{}):null))}var K=n(32056),N=n(33665),q=n(61519),R=n(43568),V=n(74523),L=n(35548);function Y(e){window.__c={n:"SpaceSubscriptionOrderSummaryForClaimAndUpgrade"};const{state:t}=e,n=(0,d.yK)((e=>({container:{display:"flex",flexDirection:"column"},header:{fontSize:16,color:e.regularTextColor,fontWeight:I.Z.fontWeight.semibold,marginBottom:10},couponLink:{fontSize:12},helpButton:{marginLeft:0,marginTop:-4,marginBottom:12},helpButtonInner:{fontSize:12}})),[]),i=t.taxAmount,o=t.calculatingTax,s=void 0!==t.totalUpgradeCost?Math.max(0,t.totalUpgradeCost+(i&&!o?i:0)):void 0;return a()("div",{style:n.container},void 0,a()("label",{style:n.header},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.header",defaultMessage:"Order summary"})),void 0!==t.totalUpgradeCost?r.createElement(r.Fragment,null,a()(j,{totalCostForUpgrade:t.totalUpgradeCost,memberCount:t.targetSpace.memberCount}),a()(V.Z,{style:n.helpButton,buttonStyle:n.helpButtonInner,title:a()(m.FormattedMessage,{id:"invoice.details.helpButton.label",defaultMessage:"Learn more about prorated charges"}),href:(0,N.UY)("guides.billingAndPayment"),analyticsFrom:"invoices"}),a()(Q,{state:t}),a()(q.Z,{size:14}),a()(L.n,{showZeroPrice:!0,lineItem:{price:s,type:"standard",name:a()(m.FormattedMessage,{id:"spaceSubscriptionUpgradeOrderSummary.orderTotal",defaultMessage:"Total"})},priceStyle:{fontSize:20}})):a()(G,{}))}function Q(e){return r.createElement(r.Fragment,null,a()(L.n,{showZeroPrice:!0,lineItem:{type:"standard",name:a()(m.FormattedMessage,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"}),price:e.state.totalUpgradeCost}}),a()(L.n,{lineItem:{type:e.state.calculatingTax?"calculating":"standard",name:a()(m.FormattedMessage,{id:"subscriptionHelpers.lineItems.tax.title",defaultMessage:"Tax"}),price:e.state.taxAmount,subtitle:e.state.taxAmount||0===e.state.taxAmount?void 0:a()(m.FormattedMessage,{id:"subscriptionHelpers.lineItems.tax.subtitle",defaultMessage:"if applicable"})}}))}function j(e){window.__c={n:"SpaceUpgradeCostOrder"};const{totalCostForUpgrade:t,memberCount:n}=e,i=(0,m.useIntl)(),o=(0,d.yK)((e=>({container:{display:"flex",justifyContent:"space-between",marginBottom:6},item:{},title:{fontSize:14},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14,color:e.regularTextColor}})),[]);return a()("div",{style:o.container},void 0,a()("div",{style:o.item},void 0,a()("div",{style:o.title},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.proratedChanges",defaultMessage:"Prorated charges",description:"Explains that the price listed here is for prorated charges."})),a()("div",{style:o.subtitle},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.proratedChangesCaption",defaultMessage:"All charges due to claim and upgrade the workspace ({memberCount, plural, one {{memberCount} member} other {{memberCount} members}}).",description:"Explains that prorated charges will be due to upgrade the workspace.",values:{memberCount:n}}))),a()("div",{style:o.price},void 0,(0,K.Dx)({amount:t,currency:"dollar",intl:i})))}function G(){return r.createElement(r.Fragment,null,a()(R.Z,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}),a()("div",{style:{display:"block",height:27}}),a()(R.Z,{paragraphs:[{lineHeight:16,lineMargin:1,sectionWidths:[100],repeat:2,sectionMargin:4}]}),a()(R.Z,{paragraphs:[{lineHeight:14,lineMargin:0,sectionWidths:[30],repeat:1,sectionMargin:4}]}),a()(q.Z,{size:14}),a()(R.Z,{paragraphs:[{lineHeight:24,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:1}]}))}var $=n(10644),J=n(97464),X=n.n(J),ee=n(60709),te=n(52275),ne=n(31945),ie=n(78140),ae=n(9342),oe=n(63296),re=n(72495);function se(e){window.__c={n:"CheckoutBillingIntervalSection"};const{state:t,data:n}=e,i=(0,m.useIntl)(),o=(0,d.yK)((e=>({outlineButton:{marginBottom:4,width:"100%",justifyContent:"space-between"},section:{marginBottom:20},subheader:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:I.Z.fontWeight.semibold,color:e.mediumTextColor}})),[]),c=(0,s.O7)(),u=(0,d.Fg)(),[y,h]=(0,l.VK)((()=>{var e;return[u.lightIconColor,null===(e=S.default.state.currentSpaceStore)||void 0===e?void 0:e.id]}),[u]);if(!h)return null;if(t.addOnFeature)return C.Z.setState({...t,temporaryBillingInterval:"month"}),null;const v=t.appliedPromo,{yearlyUnitPrice:f,monthlyUnitPrice:M}=t.type===C.U.TargetSpace?b.ZT({memberCount:t.targetSpace.memberCount,subscriptionTier:t.subscriptionTier,addOnFeature:t.addOnFeature,isAddOnFeature:void 0!==t.addOnFeature,billingInterval:t.temporaryBillingInterval??"year"}):b.uN({promo:v,data:n,subscriptionTier:t.subscriptionTier,addOnFeature:t.addOnFeature,onlyShowAddOn:t.onlyShowAddOn,taxAmount:t.taxAmount,calculatingTax:t.calculatingTax,billingInterval:t.temporaryBillingInterval??"year",coupon:t.coupon}),x=b.GD(t.temporaryBillingInterval),w=1-f/(12*M),T=b.x7(t,w,i),O=T.find((e=>e.id===x))||T[0],Z=a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.billingIntervalSection.header",defaultMessage:"Billing interval"});return a()("div",{style:o.section},void 0,a()("div",{style:o.subheader},void 0,a()("div",{},void 0,Z)),a()(ne.ZP,{popupType:ne.Z4.Popup,placementToOrigin:ne.pO.Bottom,sameWidthAsOrigin:!0,renderOrigin:e=>r.createElement(oe.Z,X()({},e,{isLarge:!0,style:o.outlineButton}),O.title,p.Z.chevronDown({width:10,marginLeft:4,fill:y})),render:e=>{const n={menuType:ee.og.Popup,width:"100%"},i=T.map((n=>({key:n.id,action:n=>{const i=T[n.index].id;C.Z.update((e=>({...e,temporaryBillingInterval:i}))),B.FRI(c,{billingInterval:i}),g.i2({environment:c,spaceId:h,state:t}),e.close()},render:e=>r.createElement(te.Z,X()({},e,{title:n.title}))})));return r.createElement(ie.Z,n,a()("div",{style:{width:"100%"}},void 0,a()(ae.Z,{type:ae.i.Vertical,sections:[{key:"billing interval section",render:e=>r.createElement(re.Z,e),items:i}],initialFocus:void 0})))}}))}var le=n(64369);function de(e){window.__c={n:"CheckoutErrorMessage"};const{state:t}=e,{error:n}=t,i=(0,d.yK)((()=>({label:{marginTop:8,color:c.ZP.red}})),[]);return n?a()(le.Z,{isMultiline:!0,style:i.label},void 0,n):null}var ce=n(95850),ue=n(42922);function pe(e){window.__c={n:"UpgradeButtonText"};const{state:t}=e;return t.open&&t.type===C.U.TargetSpace?a()(m.FormattedMessage,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise",description:"Button on billing page to pay and complete the claiming and upgrade flow"}):t.useTestClock?r.createElement(r.Fragment,null,"Upgrade with test clock"):a()(m.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now",description:"Button on upgrade modal to confirm"})}function me(e){window.__c={n:"CheckoutUpgradeButton"};const{state:t,paymentOptionAvailabilityStore:n,onClickUpgrade:i}=e,o=(0,d.yK)((e=>({upgradeButton:{width:"100%",height:40,marginTop:24,fontSize:16}})),[]),r=(0,l.VK)((()=>n.state.supportsApplePay),[n]),s=t.temporaryPaymentMethod;return r&&"native_payment_platform"===s?a()("button",{style:{...o.upgradeButton,WebkitAppearance:"-apple-pay-button"},onClick:i}):a()(ue.Z,{disabled:"disabled"===t.payButtonState,style:o.upgradeButton,onClick:i},void 0,a()(pe,{state:t}))}var ge=n(47425),ye=n(10161),he=n(73796);function ve(e){const{state:t}=e,n=(0,s.O7)(),i=(0,m.useIntl)(),o=(0,d.yK)((e=>({contactSalesButton:{width:"100%",height:40,marginTop:10},contactSalesCta:{fontWeight:I.Z.fontWeight.medium},contactSalesIcon:{height:18,width:20,marginRight:6},contactSalesQuestionsText:{color:e.mediumTextColor,fontSize:12,lineHeight:I.Z.lineHeight.UISmall.desktop}})),[]),[c,u]=(0,l.VK)((()=>{const e=ye.default.getEligibleGroup({experimentId:"in_app_contact_sales_cta_billing",defaultGroup:"control"});return[t.subscriptionTier,e]}),[t]);if(!(0,ge.Rs)(c))return null;const g=a()(m.FormattedMessage,"on"===u?{defaultMessage:"Request a demo",id:"helpButton.salesChat.menuItemDemoVariant",description:"Title for help menu item prompting the user to request a demo from the sales team."}:{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales",description:"Shown below the upgrade button in case users want to do a trial of the subscription before purchasing."});return r.createElement(r.Fragment,null,a()(oe.Z,{style:o.contactSalesButton,onClick:()=>{const{currentUserStore:e}=S.default.state,a=null!=e&&e.isDefined()?null==e?void 0:e.getModel():void 0;he.Z.setState({open:!0,email:a&&a.getEmail(),name:a&&a.getDisplayName(i),question:b.m_(t.subscriptionTier)}),B.Zbu(n)}},void 0,p.Z.chat(o.contactSalesIcon),a()("span",{style:o.contactSalesCta},void 0,g)),a()("p",{style:o.contactSalesQuestionsText},void 0,a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})))}function be(e){const{state:t,paymentOptionAvailabilityStore:n,onClickUpgrade:i}=e;return r.createElement(r.Fragment,null,a()("div",{style:{display:"flex",flexDirection:"column",gap:16}},void 0,a()(me,{state:t,paymentOptionAvailabilityStore:n,onClickUpgrade:i}),a()(ce.EO,{addOnFeature:t.addOnFeature,onlyShowAddOn:t.onlyShowAddOn})),a()(de,{state:t}),a()(ve,{state:t}))}var fe=n(46978);function Se(){return(0,d.yK)((e=>({radioButton:{cursor:"pointer"},radioButtonUnavailable:{opacity:.4},radioButtonCaption:{color:e.mediumTextColor,fontSize:12,marginLeft:24,marginTop:2,marginBottom:8},radioButtonTitle:{display:"flex",alignItems:"center",fontSize:12},subheader:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:I.Z.fontWeight.semibold,color:e.mediumTextColor}})),[])}function Me(e){window.__c={n:"RadioButton"};const{title:t,caption:n,isSelected:i,onClick:o,unavailable:r}=e,s=Se();return a()("div",{style:r?s.radioButtonUnavailable:s.radioButton,onClick:o},void 0,a()("div",{style:s.radioButtonTitle},void 0,a()(fe.Z,{isSelected:i}),t),a()("div",{style:s.radioButtonCaption},void 0,n))}function xe(e){window.__c={n:"CheckoutPaymentMethodSection"};const{state:t,paymentOptionAvailabilityStore:n}=e,i=(0,s.O7)(),o=Se(),r=(0,l.VK)((()=>n.state.availablePaymentMethods),[n]),d=t.temporaryPaymentMethod,c=a()(m.FormattedMessage,{id:"spaceSubscriptionSettings.upgradeModal.paymentMethodSection.header",defaultMessage:"Payment method"}),u=b.E$({state:t,availablePaymentMethods:r});if(u.length<2)return null;const p=b.zt(u);return a()("div",{},void 0,a()("div",{style:o.subheader},void 0,a()("div",{},void 0,c)),p.map((e=>{let{type:t,title:n,caption:o}=e;return a()(Me,{title:n,caption:o,isSelected:d===t,onClick:()=>{C.Z.update((e=>({...e,temporaryPaymentMethod:t}))),B.ieb(i,{paymentMethod:t})},unavailable:!1},t)})))}var Ce=n(65734);function we(){return(0,d.yK)((e=>({closeButton:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:21,right:20,width:22,height:22,padding:0,borderRadius:"50%",border:"none",background:"light"===e.mode?c.FN.light.gray[75]:c.FN.dark.gray[500],zIndex:10},closeButtonIcon:{width:12,height:12,fill:"light"===e.mode?c.FN.light.gray[400]:c.FN.dark.gray[800]},modal:{background:"dark"===e.mode?"#191919":e.popoverBackground,borderRadius:12,width:750,maxHeight:760,display:"flex"},modalContent:{flex:1,maxWidth:"60%",display:"flex",flexDirection:"column",position:"relative",borderRadius:"12px 0 0 12px"},modalContentBody:{padding:"36px 42px 50px 42px",display:"flex",flexDirection:"column"},modalContentSidebar:{flex:1,maxWidth:"40%",background:"dark"===e.mode?"#202020":e.sidebarSecondaryBackground,borderLeft:`1px solid ${e.lightDividerColor}`,padding:"20px 29px 50px 27px",display:"flex",flexDirection:"column"}})),[])}function Te(e){window.__c={n:"ModalContentWrapper"};const{state:t,data:n,requestingSpaceId:i,paymentOptionAvailabilityStore:r}=e,{subscriptionTier:s,onlyShowAddOn:l,calculatingTax:d,temporaryBillingInterval:c,taxAmount:u,addOnFeature:p,coupon:m}=t,{payAmount:g}=b.uN({subscriptionTier:s,promo:t.appliedPromo,data:n,onlyShowAddOn:l,calculatingTax:d,billingInterval:c??"year",taxAmount:u,addOnFeature:p,coupon:m}),y=(0,h.useElementsOptions)({type:"subscription",amount:g,currency:"usd"});return a()(o.Elements,{stripe:(0,h.getStripe)(),options:y},void 0,a()(Oe,{state:t,data:n,requestingSpaceId:i,paymentOptionAvailabilityStore:r}))}function Oe(e){const{state:t,data:n,requestingSpaceId:i,paymentOptionAvailabilityStore:d}=e,c=(0,s.O7)(),u=(0,m.useIntl)(),y=we(),h=(0,o.useStripe)(),S=(0,o.useElements)();!function(e){const{data:t,paymentOptionAvailabilityStore:n}=e,i=(0,s.O7)(),a=(0,o.useStripe)(),l=(0,m.useIntl)(),[d,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!a||d)return;const e=a.paymentRequest({country:"US",currency:"usd",total:{label:l.formatMessage({id:"spaceSubscriptionUpgradeModal.applePay.total.label",defaultMessage:"Notion - You will be charged on a recurring basis"}),amount:0}});e.canMakePayment().then((t=>{t&&(n.update((n=>({...n,supportsApplePay:t.applePay,paymentRequest:e}))),n.addPaymentOption("native_payment_platform"))})),e.on("paymentmethod",(e=>{const n=C.Z.state;if(n.open)if(g.YN({environment:i,state:n,intl:l})){const n={type:"paymentMethodId",value:e.paymentMethod.id};g.NW({environment:i,data:t,paymentData:n,stripe:a,onComplete:e.complete})}else e.complete("fail")})),c(!0)}),[a,d,t,i,l,n])}({data:n,paymentOptionAvailabilityStore:d});const[x,w,T]=(0,l.VK)((()=>{const e=(0,v.C0)()&&!t.onlyShowAddOn&&t.type===C.U.CurrentSpace;return[M.Z.state.online,d.state.availablePaymentMethods,e]}),[]);if(!t.open)return null;if(!x)return a()($.Z,{});const F=b.E$({state:t,availablePaymentMethods:w});return r.createElement(r.Fragment,null,a()("div",{style:y.modalContent},void 0,a()(O.Z,{type:f.Z.Y,showScrollToBottomIndicator:!0},void 0,a()("div",{style:y.modalContentBody},void 0,a()(Ce.Q,{subscriptionTier:t.subscriptionTier,onlyShowAddOn:t.onlyShowAddOn,addOnFeature:t.addOnFeature,type:t.type}),T?a()(H,{}):a()(se,{state:t,data:n}),a()(xe,{state:t,paymentOptionAvailabilityStore:d}),a()(Z.Cz,{paymentMethods:F})))),a()("div",{style:y.modalContentSidebar},void 0,a()(O.Z,{type:f.Z.Y},void 0,a()(Ze,{state:t,data:n}),a()(be,{state:t,paymentOptionAvailabilityStore:d,onClickUpgrade:()=>g.Vu({environment:c,intl:u,state:t,stripe:h,elements:S,data:n,requestingSpaceId:i,paymentOptionAvailabilityStore:d})}))),a()("button",{style:y.closeButton,onClick:()=>{C.Z.setState({open:!1})}},void 0,p.Z.close(y.closeButtonIcon)))}function Ze(e){const{state:t,data:n}=e;return t.type===C.U.TargetSpace?a()(Y,{state:t}):a()(L.e,{state:t,data:n,promo:t.appliedPromo})}const Fe=function(e){window.__c={n:"SpaceSubscriptionUpgradeModal"};const{data:t,spaceStore:n}=e,i=(0,l.VK)((()=>C.Z.state),[]),o=(0,s.O7)(),d=(0,m.useIntl)(),c=we(),p=(0,r.useMemo)((()=>new x.Z),[]);return(0,r.useEffect)((()=>{var e;const{state:n}=C.Z;if(!n.open)return;const i=null===(e=S.default.state.currentSpaceStore)||void 0===e?void 0:e.id;i&&g.Qx({environment:o,state:n,spaceId:i});const{currentUserStore:a}=S.default.state,r=null!=a&&a.isDefined()?a.getModel():void 0;if(r){const e=r.getDisplayName(d);var s;if(C.Z.setState({...n,temporaryAddress:{...n.temporaryAddress,name:e}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)C.Z.setState({...n,appliedPromo:null===(s=t.customerData)||void 0===s?void 0:s.stripe.promo})}["local","development","staging"].includes(y.Z.env)&&(0,u.exposeDebugValue)("useTestClock",(()=>{C.Z.setUseTestClock(!0)}))}),[]),a()(T.Z,{open:i.open,preventHideChildrenWhileOpening:!0,innerStyle:c.modal,render:()=>a()(w.Z,{capture:!0,allowEsc:!0,render:()=>i.open?a()(Te,{state:i,data:t,requestingSpaceId:n.id,paymentOptionAvailabilityStore:p}):null})})}},45407:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(96486),a=n.n(i),o=n(49085);class r extends o.default{getInitialState(){return{availablePaymentMethods:["credit_card"],paymentRequest:void 0,supportsApplePay:!1}}isPaymentOptionAvailable(e){return this.state.availablePaymentMethods.includes(e)}addPaymentOption(e){const t=a().uniq([...this.state.availablePaymentMethods,e]);this.setState({...this.state,availablePaymentMethods:t})}}const s=r}}]);